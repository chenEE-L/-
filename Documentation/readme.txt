   串行外设接口(SPI)。初始化步骤：
1、设置SPI外设时钟
2、连接被复用的GPIO的外设时钟，也是通过RCC->APB2ENR设置。
为什么还要连接GPIO时钟，参见STM32参考手册8.1.4节。
手册上这么说的：对于复用输出功能，端口必须配置成复用功能输出模式(推挽或开漏)。
3、设置被复用的GPIO为推挽输出，并设置时钟。
不能设置为开漏输出。设置成开漏输出时，示波器上看输出是锯齿波，而不是需要的方波。
4、通过配置SPIx->CR1来设置SPI 的工作模式。最后使能SPI
5、收发数据。
收发数据可以使用同一个函数，因为SPI是同步输入输出的，在发送数据的时候已经在接受数据。





